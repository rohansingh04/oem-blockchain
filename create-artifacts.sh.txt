
chmod -R 0755 ./crypto-config
# Delete existing artifacts
rm -rf ./crypto-config
rm genesis.block mychannel.tx
rm -rf ../../channel-artifacts/*

#Generate Crypto artifactes for organizations
cryptogen generate --config=./crypto-config.yaml --output=./crypto-config/



# System channel
SYS_CHANNEL="sys-channel"

#channel name defaults to "mychannel"
CHANNEL_NAME="mychannel"

echo $CHANNEL_NAME

# Generate System Genesis block
configtxgen -profile OrdererGenesis -configPath . -channelID $SYS_CHANNEL  -outputBlock ./genesis.block


# Generate channel configuration block
configtxgen -profile BasicChannel -configPath . -outputCreateChannelTx ./mychannel.tx -channelID $CHANNEL_NAME

echo "#######    Generating anchor peer update for ServiceOrg1MSP  ##########"
configtxgen -profile BasicChannel -configPath . -outputAnchorPeersUpdate ./ServiceOrg1MSPanchors.tx -channelID $CHANNEL_NAME -asOrg ServiceOrg1MSP

echo "#######    Generating anchor peer update for OEMOrg1MSP  ##########"
configtxgen -profile BasicChannel -configPath . -outputAnchorPeersUpdate ./OEMOrg1MSPanchors.tx -channelID $CHANNEL_NAME -asOrg OEMOrg1MSP

echo "#######    Generating anchor peer update for LogisticsOrg1MSP  ##########"
configtxgen -profile BasicChannel -configPath . -outputAnchorPeersUpdate ./LogistisOrg1MSPanchors.tx -channelID $CHANNEL_NAME -asOrg LogisticsOrg1MSP

echo "#######    Generating anchor peer update for RestarOrg1MSP  ##########"
configtxgen -profile BasicChannel -configPath . -outputAnchorPeersUpdate ./RestarOrg1MSPanchors.tx -channelID $CHANNEL_NAME -asOrg RestarOrg1MSP

echo "#######    Generating anchor peer update for RestarOrg2MSP  ##########"
configtxgen -profile BasicChannel -configPath . -outputAnchorPeersUpdate ./RestarOrg2MSPanchors.tx -channelID $CHANNEL_NAME -asOrg RestarOrg2MSP

echo "#######    Generating anchor peer update for RestarOrg3MSP  ##########"
configtxgen -profile BasicChannel -configPath . -outputAnchorPeersUpdate ./RestarOrg3MSPanchors.tx -channelID $CHANNEL_NAME -asOrg RestarOrg3MSP

echo "#######    Generating anchor peer update for ServiceOrg3MSP  ##########"
configtxgen -profile BasicChannel -configPath . -outputAnchorPeersUpdate ./ServiceOrg3MSPanchors.tx -channelID $CHANNEL_NAME -asOrg ServiceOrg3MSP

echo "#######    Generating anchor peer update for ServiceOrg2MSP  ##########"
configtxgen -profile BasicChannel -configPath . -outputAnchorPeersUpdate ./BatteryOrg1MSPanchors.tx -channelID $CHANNEL_NAME -asOrg ServiceOrg2MSP

echo "#######    Generating anchor peer update for OEMOrg2MSP  ##########"
configtxgen -profile BasicChannel -configPath . -outputAnchorPeersUpdate ./OEMOrg2MSPanchors.tx -channelID $CHANNEL_NAME -asOrg OEMOrg2MSP

echo "#######    Generating anchor peer update for LogisticsOrg2MSP  ##########"
configtxgen -profile BasicChannel -configPath . -outputAnchorPeersUpdate ./LogisticsOrg2MSPanchors.tx -channelID $CHANNEL_NAME -asOrg LogisticsOrg2MSP

echo "#######    Generating anchor peer update for LogisticsOrg3MSP  ##########"
configtxgen -profile BasicChannel -configPath . -outputAnchorPeersUpdate ./LogisticsOrg3MSPanchors.tx -channelID $CHANNEL_NAME -asOrg LogisticsOrg3MSP

echo "#######    Generating anchor peer update for ServiceOrg4MSP  ##########"
configtxgen -profile BasicChannel -configPath . -outputAnchorPeersUpdate ./ServiceOrg4MSPanchors.tx -channelID $CHANNEL_NAME -asOrg ServiceOrg4MSP

# channel name defaults to "EOLChannel1"
CHANNEL_NAME1="EOLChannel1"

echo $CHANNEL_NAME1

# # Generate channel configuration block
configtxgen -profile EOLChannel1 -configPath . -outputCreateChannelTx ./EOLChannel1.tx -channelID $CHANNEL_NAME1

echo "#######    Generating anchor peer update for ServiceOrg1MSP  ##########"
configtxgen -profile EOLChannel1 -configPath . -outputAnchorPeersUpdate ./ServiceOrg1MSPanchors_$CHANNEL_NAME1.tx -channelID $CHANNEL_NAME1 -asOrg ServiceOrg1MSP

echo "#######    Generating anchor peer update for OEMOrg1MSP  ##########"
configtxgen -profile EOLChannel1 -configPath . -outputAnchorPeersUpdate ./OEMOrg1MSPanchors_$CHANNEL_NAME1.tx -channelID $CHANNEL_NAME1 -asOrg OEMOrg1MSP

echo "#######    Generating anchor peer update for LogisticsOrg1MSP  ##########"
configtxgen -profile EOLChannel1 -configPath . -outputAnchorPeersUpdate ./LogisticsOrg1MSPanchors_$CHANNEL_NAME1.tx -channelID $CHANNEL_NAME1 -asOrg LogisticsOrg1MSP

echo "#######    Generating anchor peer update for RestarOrg1MSP  ##########"
configtxgen -profile EOLChannel1 -configPath . -outputAnchorPeersUpdate ./RestarOrg1MSPanchors_$CHANNEL_NAME1.tx -channelID $CHANNEL_NAME1 -asOrg RestarOrg1MSP

# channel name defaults to "EOLChannel2"
CHANNEL_NAME2="EOLChannel2"

echo $CHANNEL_NAME2

# # Generate channel configuration block
configtxgen -profile EOLChannel2 -configPath . -outputCreateChannelTx ./EOLChannel2.tx -channelID $CHANNEL_NAME2

echo "#######    Generating anchor peer update for ServiceOrg1MSP  ##########"
configtxgen -profile EOLChannel2 -configPath . -outputAnchorPeersUpdate ./ServiceOrg1MSPanchors_$CHANNEL_NAME2.tx -channelID $CHANNEL_NAME2 -asOrg ServiceOrg1MSP

echo "#######    Generating anchor peer update for OEMOrg1MSP  ##########"
configtxgen -profile EOLChannel2 -configPath . -outputAnchorPeersUpdate ./OEMOrg1MSPanchors_$CHANNEL_NAME2.tx -channelID $CHANNEL_NAME2 -asOrg OEMOrg1MSP

echo "#######    Generating anchor peer update for LogisticsOrg1MSP  ##########"
configtxgen -profile EOLChannel2 -configPath . -outputAnchorPeersUpdate ./LogisticsOrg1MSPanchors_$CHANNEL_NAME2.tx -channelID $CHANNEL_NAME2 -asOrg LogisticsOrg1MSP

echo "#######    Generating anchor peer update for RestarOrg2MSP  ##########"
configtxgen -profile EOLChannel2 -configPath . -outputAnchorPeersUpdate ./RestarOrg2MSPanchors_$CHANNEL_NAME2.tx -channelID $CHANNEL_NAME2 -asOrg RestarOrg2MSP

#channel name defaults to "EOLChannel3"
CHANNEL_NAME3="EOLChannel3"

echo $CHANNEL_NAME3

# # Generate channel configuration block
configtxgen -profile EOLChannel3 -configPath . -outputCreateChannelTx ./EOLChannel3.tx -channelID $CHANNEL_NAME3

echo "#######    Generating anchor peer update for ServiceOrg1MSP  ##########"
configtxgen -profile EOLChannel3 -configPath . -outputAnchorPeersUpdate ./ServiceOrg1MSPanchors_$CHANNEL_NAME3.tx -channelID $CHANNEL_NAME3 -asOrg ServiceOrg1MSP

echo "#######    Generating anchor peer update for OEMOrg1MSP  ##########"
configtxgen -profile EOLChannel3 -configPath . -outputAnchorPeersUpdate ./OEMOrg1MSPanchors_$CHANNEL_NAME3.tx -channelID $CHANNEL_NAME3 -asOrg OEMOrg1MSP

echo "#######    Generating anchor peer update for LogisticsOrg1MSP  ##########"
configtxgen -profile EOLChannel3 -configPath . -outputAnchorPeersUpdate ./LogisticsOrg1MSPanchors_$CHANNEL_NAME3.tx -channelID $CHANNEL_NAME3 -asOrg LogisticsOrg1MSP

echo "#######    Generating anchor peer update for RestarOrg3MSP  ##########"
configtxgen -profile EOLChannel3 -configPath . -outputAnchorPeersUpdate ./RestarOrg3MSPanchors_$CHANNEL_NAME3.tx -channelID $CHANNEL_NAME3 -asOrg RestarOrg3MSP

#channel name defaults to "EOLChannel4"
CHANNEL_NAME4="EOLChannel4"

echo $CHANNEL_NAME4

# # Generate channel configuration block
configtxgen -profile EOLChannel4 -configPath . -outputCreateChannelTx ./EOLChannel4.tx -channelID $CHANNEL_NAME4

echo "#######    Generating anchor peer update for ServiceOrg3MSP  ##########"
configtxgen -profile EOLChannel4 -configPath . -outputAnchorPeersUpdate ./ServiceOrg3MSPanchors_$CHANNEL_NAME4.tx -channelID $CHANNEL_NAME4 -asOrg ServiceOrg3MSP

echo "#######    Generating anchor peer update for OEMOrg1MSP  ##########"
configtxgen -profile EOLChannel4 -configPath . -outputAnchorPeersUpdate ./OEMOrg1MSPanchors_$CHANNEL_NAME4.tx -channelID $CHANNEL_NAME4 -asOrg OEMOrg1MSP

echo "#######    Generating anchor peer update for LogisticsOrg1MSP  ##########"
configtxgen -profile EOLChannel4 -configPath . -outputAnchorPeersUpdate ./LogisticsOrg1MSPanchors_$CHANNEL_NAME4.tx -channelID $CHANNEL_NAME4 -asOrg LogisticsOrg1MSP

echo "#######    Generating anchor peer update for RestarOrg1MSP  ##########"
configtxgen -profile EOLChannel4 -configPath . -outputAnchorPeersUpdate ./RestarOrg1MSPanchors_$CHANNEL_NAME4.tx -channelID $CHANNEL_NAME4 -asOrg RestarOrg1MSP


# # channel name defaults to "EOLChannel5"
CHANNEL_NAME5="EOLChannel5"

echo $CHANNEL_NAME5

# # Generate channel configuration block
configtxgen -profile EOLChannel5 -configPath . -outputCreateChannelTx ./EOLChannel5.tx -channelID $CHANNEL_NAME5

echo "#######    Generating anchor peer update for ServiceOrg3MSP  ##########"
configtxgen -profile EOLChannel5 -configPath . -outputAnchorPeersUpdate ./ServiceOrg3MSPanchors_$CHANNEL_NAME5.tx -channelID $CHANNEL_NAME5 -asOrg ServiceOrg3MSP

echo "#######    Generating anchor peer update for OEMOrg1MSP  ##########"
configtxgen -profile EOLChannel5 -configPath . -outputAnchorPeersUpdate ./OEMOrg1MSPanchors_$CHANNEL_NAME5.tx -channelID $CHANNEL_NAME5 -asOrg OEMOrg1MSP

echo "#######    Generating anchor peer update for LogisticsOrg1MSP  ##########"
configtxgen -profile EOLChannel5 -configPath . -outputAnchorPeersUpdate ./LogisticsOrg1MSPanchors_$CHANNEL_NAME5.tx -channelID $CHANNEL_NAME5 -asOrg LogisticsOrg1MSP

echo "#######    Generating anchor peer update for RestarOrg2MSP  ##########"
configtxgen -profile EOLChannel5 -configPath . -outputAnchorPeersUpdate ./RestarOrg2MSPanchors_$CHANNEL_NAME5.tx -channelID $CHANNEL_NAME5 -asOrg RestarOrg2MSP


# # channel name defaults to "EOLChannel6"
CHANNEL_NAME6="EOLChannel6"

echo $CHANNEL_NAME6

# # Generate channel configuration block
configtxgen -profile EOLChannel6 -configPath . -outputCreateChannelTx ./EOLChannel6.tx -channelID $CHANNEL_NAME6

echo "#######    Generating anchor peer update for ServiceOrg3MSP  ##########"
configtxgen -profile EOLChannel6 -configPath . -outputAnchorPeersUpdate ./ServiceOrg3MSPanchors_$CHANNEL_NAME6.tx -channelID $CHANNEL_NAME6 -asOrg ServiceOrg3MSP

echo "#######    Generating anchor peer update for OEMOrg1MSP  ##########"
configtxgen -profile EOLChannel6 -configPath . -outputAnchorPeersUpdate ./OEMOrg1MSPanchors_$CHANNEL_NAME6.tx -channelID $CHANNEL_NAME6 -asOrg OEMOrg1MSP

echo "#######    Generating anchor peer update for LogisticsOrg1MSP  ##########"
configtxgen -profile EOLChannel6 -configPath . -outputAnchorPeersUpdate ./LogisticsOrg1MSPanchors_$CHANNEL_NAME6.tx -channelID $CHANNEL_NAME6 -asOrg LogisticsOrg1MSP

echo "#######    Generating anchor peer update for RestarOrg3MSP  ##########"
configtxgen -profile EOLChannel6 -configPath . -outputAnchorPeersUpdate ./RestarOrg3MSPanchors_$CHANNEL_NAME6.tx -channelID $CHANNEL_NAME6 -asOrg RestarOrg3MSP


# # channel name defaults to "EOLChannel7"
CHANNEL_NAME7="EOLChannel7"

echo $CHANNEL_NAME7

# # Generate channel configuration block
configtxgen -profile EOLChannel7 -configPath . -outputCreateChannelTx ./EOLChannel7.tx -channelID $CHANNEL_NAME7

echo "#######    Generating anchor peer update for ServiceOrg2MSP  ##########"
configtxgen -profile EOLChannel7 -configPath . -outputAnchorPeersUpdate ./ServiceOrg2MSPanchors_$CHANNEL_NAME7.tx -channelID $CHANNEL_NAME7 -asOrg ServiceOrg2MSP

echo "#######    Generating anchor peer update for OEMOrg2MSP  ##########"
configtxgen -profile EOLChannel7 -configPath . -outputAnchorPeersUpdate ./OEMOrg2MSPanchors_$CHANNEL_NAME7.tx -channelID $CHANNEL_NAME7 -asOrg OEMOrg2MSP

echo "#######    Generating anchor peer update for LogisticsOrg2MSP  ##########"
configtxgen -profile EOLChannel7 -configPath . -outputAnchorPeersUpdate ./LogisticsOrg2MSPanchors_$CHANNEL_NAME7.tx -channelID $CHANNEL_NAME7 -asOrg LogisticsOrg2MSP

echo "#######    Generating anchor peer update for RestarOrg1MSP  ##########"
configtxgen -profile EOLChannel7 -configPath . -outputAnchorPeersUpdate ./RestarOrg1MSPanchors_$CHANNEL_NAME7.tx -channelID $CHANNEL_NAME7 -asOrg RestarOrg1MSP


# # channel name defaults to "EOLChannel8"
CHANNEL_NAME8="EOLChannel8"

echo $CHANNEL_NAME8

# # Generate channel configuration block
configtxgen -profile EOLChannel8 -configPath . -outputCreateChannelTx ./EOLChannel8.tx -channelID $CHANNEL_NAME8

echo "#######    Generating anchor peer update for ServiceOrg2MSP  ##########"
configtxgen -profile EOLChannel8 -configPath . -outputAnchorPeersUpdate ./ServiceOrg2MSPanchors_$CHANNEL_NAME8.tx -channelID $CHANNEL_NAME8 -asOrg ServiceOrg2MSP

echo "#######    Generating anchor peer update for OEMOrg2MSP  ##########"
configtxgen -profile EOLChannel8 -configPath . -outputAnchorPeersUpdate ./OEMOrg2MSPanchors_$CHANNEL_NAME8.tx -channelID $CHANNEL_NAME8 -asOrg OEMOrg2MSP

echo "#######    Generating anchor peer update for LogisticsOrg2MSP  ##########"
configtxgen -profile EOLChannel8 -configPath . -outputAnchorPeersUpdate ./LogisticsOrg2MSPanchors_$CHANNEL_NAME8.tx -channelID $CHANNEL_NAME8 -asOrg LogisticsOrg2MSP

echo "#######    Generating anchor peer update for RestarOrg2MSP  ##########"
configtxgen -profile EOLChannel8 -configPath . -outputAnchorPeersUpdate ./RestarOrg2MSPanchors_$CHANNEL_NAME8.tx -channelID $CHANNEL_NAME8 -asOrg RestarOrg2MSP


# # channel name defaults to "EOLChannel9"
CHANNEL_NAME9="EOLChannel9"

echo $CHANNEL_NAME9

# # Generate channel configuration block
configtxgen -profile EOLChannel9 -configPath . -outputCreateChannelTx ./EOLChannel9.tx -channelID $CHANNEL_NAME9

echo "#######    Generating anchor peer update for ServiceOrg2MSP  ##########"
configtxgen -profile EOLChannel9 -configPath . -outputAnchorPeersUpdate ./ServiceOrg2MSPanchors_$CHANNEL_NAME9.tx -channelID $CHANNEL_NAME9 -asOrg ServiceOrg2MSP

echo "#######    Generating anchor peer update for OEMOrg2MSP  ##########"
configtxgen -profile EOLChannel9 -configPath . -outputAnchorPeersUpdate ./OEMOrg2MSPanchors_$CHANNEL_NAME9.tx -channelID $CHANNEL_NAME9 -asOrg OEMOrg2MSP

echo "#######    Generating anchor peer update for LogisticsOrg2MSP  ##########"
configtxgen -profile EOLChannel9 -configPath . -outputAnchorPeersUpdate ./LogisticsOrg2MSPanchors_$CHANNEL_NAME9.tx -channelID $CHANNEL_NAME9 -asOrg LogisticsOrg2MSP

echo "#######    Generating anchor peer update for RestarOrg3MSP  ##########"
configtxgen -profile EOLChannel9 -configPath . -outputAnchorPeersUpdate ./RestarOrg3MSPanchors_$CHANNEL_NAME9.tx -channelID $CHANNEL_NAME9 -asOrg RestarOrg3MSP


# # channel name defaults to "EOLChannel10"
CHANNEL_NAME10="EOLChannel10"

echo $CHANNEL_NAME10

# # Generate channel configuration block
configtxgen -profile EOLChannel10 -configPath . -outputCreateChannelTx ./EOLChannel10.tx -channelID $CHANNEL_NAME10

echo "#######    Generating anchor peer update for ServiceOrg3MSP  ##########"
configtxgen -profile EOLChannel10 -configPath . -outputAnchorPeersUpdate ./ServiceOrg3MSPanchors_$CHANNEL_NAME10.tx -channelID $CHANNEL_NAME10 -asOrg ServiceOrg3MSP

echo "#######    Generating anchor peer update for LogisticsOrg3MSP  ##########"
configtxgen -profile EOLChannel10 -configPath . -outputAnchorPeersUpdate ./LogisticsOrg3MSPanchors_$CHANNEL_NAME10.tx -channelID $CHANNEL_NAME10 -asOrg LogisticsOrg3MSP

echo "#######    Generating anchor peer update for RestarOrg1MSP  ##########"
configtxgen -profile EOLChannel10 -configPath . -outputAnchorPeersUpdate ./RestarOrg1MSPanchors_$CHANNEL_NAME10.tx -channelID $CHANNEL_NAME10 -asOrg RestarOrg1MSP


# # channel name defaults to "EOLChannel11"
CHANNEL_NAME11="EOLChannel11"

echo $CHANNEL_NAME11

# # Generate channel configuration block
configtxgen -profile EOLChannel11 -configPath . -outputCreateChannelTx ./EOLChannel11.tx -channelID $CHANNEL_NAME11

echo "#######    Generating anchor peer update for ServiceOrg3MSP  ##########"
configtxgen -profile EOLChannel11 -configPath . -outputAnchorPeersUpdate ./ServiceOrg4MSPanchors_$CHANNEL_NAME11.tx -channelID $CHANNEL_NAME11 -asOrg ServiceOrg4MSP

echo "#######    Generating anchor peer update for LogisticsOrg3MSP  ##########"
configtxgen -profile EOLChannel11 -configPath . -outputAnchorPeersUpdate ./LogisticsOrg3MSPanchors_$CHANNEL_NAME11.tx -channelID $CHANNEL_NAME11 -asOrg LogisticsOrg3MSP

echo "#######    Generating anchor peer update for RestarOrg1MSP  ##########"
configtxgen -profile EOLChannel11 -configPath . -outputAnchorPeersUpdate ./RestarOrg1MSPanchors_$CHANNEL_NAME11.tx -channelID $CHANNEL_NAME11 -asOrg RestarOrg1MSP